<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos  -->
			<title>Docs For Class DBRecord</title>
			<link rel="stylesheet" href="../../media/stylesheet.css" />
						<script src="../../media/lib/classTree.js"></script>
												<script language="javascript" type="text/javascript">
				var imgPlus = new Image();
				var imgMinus = new Image();
				imgPlus.src = "../../media/images/plus.png";
				imgMinus.src = "../../media/images/minus.png";
				
				function showNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgMinus.src;
					oTable.style.display = "block";
				}
				
				function hideNode(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
							var oImg = document.layers["img" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
							var oImg = document.all["img" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
							var oImg = document.getElementById("img" + Node);
									break;
							}
					oImg.src = imgPlus.src;
					oTable.style.display = "none";
				}
				
				function nodeIsVisible(Node){
							switch(navigator.family){
								case 'nn4':
									// Nav 4.x code fork...
							var oTable = document.layers["span" + Node];
									break;
								case 'ie4':
									// IE 4/5 code fork...
							var oTable = document.all["span" + Node];
									break;
								case 'gecko':
									// Standards Compliant code fork...
							var oTable = document.getElementById("span" + Node);
									break;
							}
					return (oTable && oTable.style.display == "block");
				}
				
				function toggleNodeVisibility(Node){
					if (nodeIsVisible(Node)){
						hideNode(Node);
					}else{
						showNode(Node);
					}
				}
			</script>
					</head>
		<body>
			<div class="page-body">			
<h2 class="class-name"><img src="../../media/images/Class_logo.png"
														alt=" Class"
														title=" Class"
														style="vertical-align: middle"> DBRecord</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
							<a href="#sec-descendents">Descendents</a>
			|											<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">A Base class to use for records which will be read/written from the database.</p>
		<p class="notes">
			Located in <a class="field" href="_DataUpdate.php.html">/DataUpdate.php</a> (line <span class="field">122</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>

	<a name="sec-descendents"></a>
	<div class="info-box">
		<div class="info-box-title">Direct descendents</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
			<span class="disabled">Descendents</span>
			|												<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
								|															<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<table cellpadding="2" cellspacing="0" class="class-table">
				<tr>
					<th class="class-table-header">Class</th>
					<th class="class-table-header">Description</th>
				</tr>
								<tr>
					<td style="padding-right: 2em; white-space: nowrap">
						<img src="../../media/images/Class.png"
								 alt=" class"
								 title=" class"
								 style="vertical-align: center"/>
						<a href="../../awl/User/User.html">User</a>
					</td>
					<td>
											A class to handle reading, writing, viewing, editing and validating  usr records.
										</td>
				</tr>
							</table>
		</div>
	</div>


	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
							<a href="#sec-descendents">Descendants</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																								<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">object</span>
					<a href="#$EditMode" title="details" class="var-name">$EditMode</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
							<a href="#sec-descendents">Descendants</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																																																															
				<div class="method-definition">
					<img src="../../media/images/Constructor.png" alt=" "/>
											<span class="method-result">DBRecord</span>
										<a href="#DBRecord" title="details" class="method-name">DBRecord</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#AddTable" title="details" class="method-name">AddTable</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$table</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$target_list</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$join_clause</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$and_where</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$keys</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$join</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$prefix</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#Get" title="details" class="method-name">Get</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$fname</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#Initialise" title="details" class="method-name">Initialise</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$table</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$keys</span> = <span class="var-default">array()</span>])
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#PostToValues" title="details" class="method-name">PostToValues</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$prefix</span> = <span class="var-default">&quot;&quot;</span>])
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">boolean</span>
										<a href="#Read" title="details" class="method-name">Read</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#Set" title="details" class="method-name">Set</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$fname</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$fval</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">mixed</span>
										<a href="#Undefine" title="details" class="method-name">Undefine</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$fname</span>)
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">boolean</span>
										<a href="#Write" title="details" class="method-name">Write</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#_BuildFieldList" title="details" class="method-name">_BuildFieldList</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#_BuildJoinClause" title="details" class="method-name">_BuildJoinClause</a>
										()
									</div>
															
				<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#_BuildWhereClause" title="details" class="method-name">_BuildWhereClause</a>
											([<span class="var-type">boolean</span>&nbsp;<span class="var-name">$overwrite_values</span> = <span class="var-default">false</span>])
									</div>
											</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
							<a href="#sec-descendents">Descendents</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			
Strict Standards: Only variables should be passed by reference in /usr/share/php/PhpDocumentor/phpDocumentor/Smarty-2.6.0/libs/Smarty_Compiler.class.php on line 712

Warning: strftime(): It is not safe to rely on the system's timezone settings. You are *required* to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone 'UTC' for now, but please set date.timezone to select your timezone. in /usr/share/php/PhpDocumentor/phpDocumentor/Smarty-2.6.0/libs/Smarty_Compiler.class.php on line 370

<a name="var$EditMode" id="$EditMode"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">object</span>
			<span class="var-name">$EditMode</span>
						(line <span class="line-number">195</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">The mode we are in for any form</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
							<a href="#sec-descendents">Descendents</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="methodDBRecord" id="DBRecord"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Constructor.png" />
		<span class="method-title">Constructor DBRecord</span> (line <span class="line-number">202</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Really numbingly simple construction.</p>
	
	<div class="method-signature">
		<span class="method-result">DBRecord</span>
		<span class="method-name">
			DBRecord
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodAddTable" id="AddTable"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">AddTable</span> (line <span class="line-number">233</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">This will join an additional table to the maintained set</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			AddTable
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$table</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$target_list</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$join_clause</span>, <span class="var-type"></span>&nbsp;<span class="var-name">$and_where</span>, <span class="var-type">array</span>&nbsp;<span class="var-name">$keys</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$join</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$prefix</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$table</span><span class="var-description">: The name of the database table</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$keys</span><span class="var-description">: An associative array containing fieldname =&gt; value pairs for the record key.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$join</span><span class="var-description">: A PostgreSQL join clause.</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$prefix</span><span class="var-description">: A field prefix to use for these fields to distinguish them from fields                        in other joined tables with the same name.</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$target_list</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$join_clause</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$and_where</span>			</li>
				</ul>
		
			
	</div>
<a name="methodGet" id="Get"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">Get</span> (line <span class="line-number">333</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns a single field from the record</p>
	<ul class="tags">
				<li><span class="field">return:</span> The current value of the field.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			Get
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$fname</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$fname</span><span class="var-description">: The name of the field to set the value for</span>			</li>
				</ul>
		
			
	</div>
<a name="methodInitialise" id="Initialise"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">Initialise</span> (line <span class="line-number">217</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">This will read the record from the database if it's available, and  the $keys parameter is a non-empty array.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			Initialise
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$table</span>, [<span class="var-type">array</span>&nbsp;<span class="var-name">$keys</span> = <span class="var-default">array()</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$table</span><span class="var-description">: The name of the database table</span>			</li>
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$keys</span><span class="var-description">: An associative array containing fieldname =&gt; value pairs for the record key.</span>			</li>
				</ul>
		
			
	</div>
<a name="methodPostToValues" id="PostToValues"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">PostToValues</span> (line <span class="line-number">245</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">This will assign $_POST values to the internal Values object for each  field that exists in the Fields array.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			PostToValues
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$prefix</span> = <span class="var-default">&quot;&quot;</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$prefix</span>			</li>
				</ul>
		
			
	</div>
<a name="methodRead" id="Read"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">Read</span> (line <span class="line-number">367</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">To read the record from the database.</p>
<p class="description"><p>If we don't have any keys then the record will be blank.</p></p>
	<ul class="tags">
				<li><span class="field">return:</span> Whether we actually read a record.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			Read
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodSet" id="Set"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">Set</span> (line <span class="line-number">322</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Sets a single field in the record</p>
	<ul class="tags">
				<li><span class="field">return:</span> The new value of the field (i.e. $fval).</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			Set
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$fname</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$fval</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$fname</span><span class="var-description">: The name of the field to set the value for</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$fval</span><span class="var-description">: The value to set the field to</span>			</li>
				</ul>
		
			
	</div>
<a name="methodUndefine" id="Undefine"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">Undefine</span> (line <span class="line-number">343</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Unsets a single field from the record</p>
	<ul class="tags">
				<li><span class="field">return:</span> The current value of the field.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			Undefine
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$fname</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$fname</span><span class="var-description">: The name of the field to unset the value for</span>			</li>
				</ul>
		
			
	</div>
<a name="methodWrite" id="Write"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">Write</span> (line <span class="line-number">355</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">To write the record to the database</p>
	<ul class="tags">
				<li><span class="field">return:</span> Success.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">boolean</span>
		<span class="method-name">
			Write
		</span>
				()
			</div>
	
		
			
			<hr class="separator" />
		<div class="notes">Redefined in descendants as:</div>
		<ul class="redefinitions">
					<li>
				<a href="../../awl/User/User.html#methodWrite">User::Write()</a>
								: Write the User record.
							</li>
				</ul>
	</div>
<a name="method_BuildFieldList" id="_BuildFieldList"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_BuildFieldList</span> (line <span class="line-number">274</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Builds a field target list</p>
	<ul class="tags">
				<li><span class="field">return:</span> A simple SQL target field list for each field, possibly including prefixes.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			_BuildFieldList
		</span>
				()
			</div>
	
		
			
	</div>
<a name="method_BuildJoinClause" id="_BuildJoinClause"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_BuildJoinClause</span> (line <span class="line-number">259</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Builds a table join clause</p>
	<ul class="tags">
				<li><span class="field">return:</span> A simple SQL target join clause excluding the primary table.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			_BuildJoinClause
		</span>
				()
			</div>
	
		
			
	</div>
<a name="method_BuildWhereClause" id="_BuildWhereClause"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_BuildWhereClause</span> (line <span class="line-number">295</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Builds a where clause to match the supplied keys</p>
	<ul class="tags">
				<li><span class="field">return:</span> A simple SQL where clause, including the initial &quot;WHERE&quot;, for each key / value.</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			_BuildWhereClause
		</span>
					([<span class="var-type">boolean</span>&nbsp;<span class="var-name">$overwrite_values</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$overwrite_values</span><span class="var-description">: Controls whether the data values for the key fields will be forced to match the key values</span>			</li>
				</ul>
		
			
	</div>
						
		</div>
	</div>

	
	<p class="notes" id="credit">
		Documentation generated on Wed, 04 Jul 2012 07:06:13 +0000 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>